[database]
type = postgres
host = ${PGHOST}:${PGPORT}
name = ${PGDATABASE}
user = ${PGUSER}
password = ${PGPASSWORD}
ssl_mode = require

[server]
root_url = https://logs.abemon.es
serve_from_sub_path = false

#################################### White-labeling / Branding ####################################
[white_labeling]
# Custom application title (shown in browser tab and navbar)
app_title = abemon Observability

# Login page title
login_title = abemon Observability
login_subtitle = Infrastructure Monitoring

# Hide Grafana version
hide_version = true

# Login background color
login_background = #FFFFFF

# Login page logo (URL or file path)
login_logo = https://media.abemon.es/wp-content/uploads/2026/01/icon-512.png

# Main logo in sidebar (URL or file path)
menu_logo = https://media.abemon.es/wp-content/uploads/2026/01/icon-512.png

# Footer links - hide Grafana branding
footer_links =

# Loading logo
loading_logo = https://media.abemon.es/wp-content/uploads/2026/01/icon-512.png

# Favicon
fav_icon = https://media.abemon.es/wp-content/uploads/2026/01/icon-512.png

[security]
admin_user = admin
# Password set via GF_SECURITY_ADMIN_PASSWORD env var
cookie_secure = true
strict_transport_security = true

[auth]
disable_login_form = false
oauth_auto_login = false

[auth.basic]
enabled = true

[auth.anonymous]
enabled = true
org_name = Main Org.
org_role = Viewer

[auth.google]
enabled = true
client_id = ${GOOGLE_CLIENT_ID}
client_secret = ${GOOGLE_CLIENT_SECRET}
scopes = openid email profile
auth_url = https://accounts.google.com/o/oauth2/v2/auth
token_url = https://oauth2.googleapis.com/token
api_url = https://openidconnect.googleapis.com/v1/userinfo
allowed_domains = abemon.es,blue-mountain.es,bm.consulting,logisticsexpress.es
allowed_organizations =
allow_sign_up = true
role_attribute_path =
role_attribute_strict = false

[users]
allow_sign_up = true
auto_assign_org = true
auto_assign_org_role = Viewer
default_theme = dark
viewers_can_edit = false
home_page = /d/1f583df6-d08d-4202-b721-04cc33f3fddc/railway-overview

[unified_alerting]
enabled = true

[alerting]
enabled = false

[log]
mode = console
level = info

[analytics]
check_for_updates = false
reporting_enabled = false

[feature_toggles]
enable =

#################################### SMTP / Email ####################################
[smtp]
enabled = true
host = smtp-relay.brevo.com:587
user = 9cb087001@smtp-brevo.com
password = ${GF_SMTP_PASSWORD}
from_address = observability@abemon.es
from_name = abemon Observability
startTLS_policy = MandatoryStartTLS
skip_verify = false

[emails]
welcome_email_on_sign_up = false
