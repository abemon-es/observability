apiVersion: 1

templates:
  - orgId: 1
    name: abemon.title
    template: '[{{ .Status | toUpper }}] {{ .CommonLabels.alertname }}'

  - orgId: 1
    name: abemon.message
    template: |
      {{ if eq .Status "firing" }}ðŸ”´{{ else }}ðŸŸ¢{{ end }} **{{ .CommonLabels.alertname }}**

      **Status:** {{ .Status | title }}
      **Severity:** {{ .CommonLabels.severity | default "unknown" }}
      {{ if .CommonLabels.project }}**Project:** {{ .CommonLabels.project }}{{ end }}

      {{ range .Alerts }}
      ---
      {{ .Annotations.summary }}
      {{ if .Annotations.description }}
      {{ .Annotations.description }}
      {{ end }}
      **Started:** {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}
      {{ if .EndsAt }}**Ended:** {{ .EndsAt.Format "2006-01-02 15:04:05 MST" }}{{ end }}
      {{ end }}

      ---
      [View in Grafana]({{ .ExternalURL }}) | [Status Page](https://status.abemon.es)

      *abemon.es Observability*

  - orgId: 1
    name: abemon.email.subject
    template: '[abemon] [{{ .Status | toUpper }}] {{ .CommonLabels.alertname }}'
